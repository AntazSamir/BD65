<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .result { margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .success { background: #d4edda; }
        .error { background: #f8d7da; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>BD65 API Test</h1>
    
    <button onclick="testDestinations()">Test Destinations API</button>
    <button onclick="testHotels()">Test Hotels API</button>
    <button onclick="testTripPlanners()">Test Trip Planners API</button>
    
    <div id="results"></div>

    <script>
        async function testApi(endpoint, name) {
            const resultsDiv = document.getElementById('results');
            
            try {
                console.log(`Testing ${endpoint}...`);
                const response = await fetch(endpoint);
                console.log(`${name} Response:`, response);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                console.log(`${name} Data:`, data);
                
                resultsDiv.innerHTML += `
                    <div class="result success">
                        <strong>✅ ${name}:</strong> Success! Got ${data.length} items<br>
                        <small>Status: ${response.status} | URL: ${endpoint}</small>
                    </div>
                `;
            } catch (error) {
                console.error(`${name} Error:`, error);
                resultsDiv.innerHTML += `
                    <div class="result error">
                        <strong>❌ ${name}:</strong> ${error.message}<br>
                        <small>URL: ${endpoint}</small>
                    </div>
                `;
            }
        }
        
        function testDestinations() {
            testApi('/api/destinations', 'Destinations');
        }
        
        function testHotels() {
            testApi('/api/hotels', 'Hotels');
        }
        
        function testTripPlanners() {
            testApi('/api/trip-planners', 'Trip Planners');
        }
        
        // Auto-test all endpoints on page load
        window.onload = () => {
            setTimeout(() => {
                testDestinations();
                setTimeout(() => testHotels(), 1000);
                setTimeout(() => testTripPlanners(), 2000);
            }, 1000);
        };
    </script>
</body>
</html>
